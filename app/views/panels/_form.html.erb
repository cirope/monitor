<%= simple_form_for [@dashboard, @panel].compact, html: { data: { remote: request.xhr? } } do |f| %>
  <%= f.error_notification unless request.xhr? %>

  <div class="form-inputs">
    <div class="row">
      <div class="col">
        <%= f.input :title, input_html: { autofocus: true } %>
      </div>
      <div class="col">
        <%= f.input :width %>
      </div>
    </div>
    <div class="row">
      <div class="col">
        <%= f.input :function, collection: panel_functions, prompt: true %>
      </div>
      <div class="col">
        <%= f.input :output_type, collection: panel_output_types, prompt: true %>
      </div>
    </div>
    <%= f.input :lock_version, as: :hidden %>
  </div>

  <div class="form-actions">
    <p class="mb-0">
      <%= f.button :submit, class: 'btn-sm btn-primary' %>
      <%= link_to t('cancel'), panel_path(@panel.id || 'nil'), class: 'small', data: { remote: request.xhr? } %>
    </p>
  </div>
<% end %>
