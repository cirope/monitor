<% if @measures.empty? %>
  <%= render 'shared/empty_index', message: t('.empty_html') %>
<% else %>
  <table class="table table-striped table-hover">
    <caption>
      <h5>
        <%= link_to @script, @script %>
      </h5>
    </caption>
    <thead>
      <tr>
        <th><%= Measure.human_attribute_name 'measureable' %></th>
        <th><%= Measure.human_attribute_name 'cpu' %></th>
        <th><%= Measure.human_attribute_name 'memory_in_kb' %></th>
        <th><%= Measure.human_attribute_name 'created_at' %></th>
      </tr>
    </thead>
    <tbody>
      <% @measures.each do |measure| %>
        <tr>
          <td>
            <%= link_to measure.measureable.class.model_name.human, [@script, measure.measureable] %> |
            <%= execution_status measure.measureable.status %>
          </td>
          <td><%= measure.cpu %>%</td>
          <td><%= number_to_human_size(measure.memory_in_b) if measure.memory_in_kb %></td>
          <td><%= l measure.created_at, format: :compact %></td>
        </tr>
      <% end %>
    </tbody>
  </table>

  <%= render 'scripts/measures/graphs' %>

  <%= paginate @measures %>
<% end %>
